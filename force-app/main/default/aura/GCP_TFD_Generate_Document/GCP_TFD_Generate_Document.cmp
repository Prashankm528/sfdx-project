<!-- 
* @author       : Avinash Jain
* @date         : 28/08/2019
* @description  : Lightning Component to Update Generate Document Field and update status field to Document Generated.
-->
<!--
Modification:
Sid - Updated logic for LC to have an option to select if Template is generic or not
    - Store the check box on the case if the template is generic or not.
-->

<aura:component controller ="GCP_TFD_UpdateGenerateButton" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >

    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="isOpen" type="boolean" default="false"/>
    <aura:attribute name="caseRecord" type="Case"/>
    <aura:attribute name="genericTemplate" type="String"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

         <!--Button to be shown on page to replay the message-->
    
    <ui:button class="slds-button slds-button--brand" press="{!c.GenerateDocument}" label="Generate Document"/>

    
    <!--Pop-up related Code-->
    <div class="slds-m-around_xx-large">     
        <!--Use aura:if tag to display Model Box, on the bese of conditions. [isOpen boolean attribute] -->    
        <aura:if isTrue="{!v.isOpen}">
            <!--###### MODAL BOX Start From Here ######--> 
            <div role="dialog" tabindex="-1" aria-labelledby="header99" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <div class="slds-modal__header">
                        <!--Close button on top left-->
                        <lightning:buttonIcon iconName="utility:close"
                                              onclick="{!c.closeModel }"
                                              alternativeText="close"
                                              variant="bare-inverse"
                                              class="slds-modal__close"/>
                        <h2 id="header99" class="slds-text-heading--medium">Generate Document</h2>
                        <br/>
                    </div>
                    <!--MODAL BODY Part Start From Here -->
                    <div class="slds-modal__content slds-p-around_medium">                            
                        <div class="slds-select_container">
                            <!--<ui:inputCheckbox aura:id="checkbox" label="Is this a Generic Template?" value="{!v.myBool}"/>-->
                            <b>Is this a Generic Template?</b>
                            <br/>
                            <br/>
   								<ui:inputRadio aura:id="r0" name="others" label="Yes" change="{!c.onGroup}"/>
                            	<br/>
   								<ui:inputRadio aura:id="r1" name="others" label="No" change="{!c.onGroup}" value="true"/>
                        </div>
                    </div>
                    <!-- MODAL BOX FOOTER Part Start From Here-->
                    <div class="slds-modal__footer slds-modal__footer_directional">
                        <lightning:button variant="brand" 
                                          label="Confirm"
                                          title="Confirm"
                                          onclick="{!c.generateDoc}"/>
                    </div>
                </div>
            </div>
        <div class="slds-backdrop slds-backdrop_open"></div>
        </aura:if>
    </div>
</aura:component>