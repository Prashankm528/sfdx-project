<aura:component controller="AITM_TenderContractContainerController" implements="force:LightningQuickActionWithoutHeader,force:hasRecordId">
    <aura:attribute name="filterOptions" type="List" description="Filter Options stored as a inner class - List of FilterOption" />
    <aura:attribute name="selectedFilter" type="String" description="Selected filter name" />
	<aura:attribute name="targetFields" type="Object"/>
    <aura:attribute name="isTenderOld" type="Boolean"/>
        
    <force:recordData aura:id="recordLoaderId"
                    layoutType="FULL"
                    recordId="{!v.recordId}"
                    targetFields="{!v.targetFields}"
                    />
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>


    <div class="slds-modal__header">
        <h2 class="slds-text-heading--medium">Generate Contract For:</h2>
    </div>
	
    <aura:if isTrue = "{!!v.isTenderOld}">
        <div class="slds-form-element">
            <div class="slds-form-element__control">
            <div class="slds-checkbox">
              <lightning:input aura:id="refreshcheckbox" type="checkbox" 
                               label="Refresh all the Taxes and Fees charges for this tender" checked="false" name="options" id="checkbox-44" value="checkbox-44" />
              
            </div>
                 <div class="slds-text" style="margin-top:5px;font-size:12px;">Please note that any customer specific changes made to the taxes and fees within this tender will be over-written by this refresh, please re-adjust them afterwards as required.</div>
          </div>
        </div>
    </aura:if>
        
    <div class="slds-modal__content slds-p-around--medium">
        <header class="filters slds-m-bottom_small">
            <lightning:spinner aura:id="loaderSpinner" class="slds-hide"/>
            <ui:inputSelect aura:id="filter" class="filtersSelect" change="{!c.onFilterChange}" value="{!v.selectedFilter}">
                <aura:iteration items="{!v.filterOptions}" var="filter">
                    <ui:inputSelectOption text="{!filter.accountId}" label="{!filter.name}"/>
                </aura:iteration>
            </ui:inputSelect>
        </header>
    </div>

    <div class="slds-modal__footer">
       <lightning:button variant="neutral" label="Cancel"  onclick="{!c.close}"/>
       <lightning:button variant="brand" label="Generate" onclick="{!c.generate}"/>
    </div>

</aura:component>