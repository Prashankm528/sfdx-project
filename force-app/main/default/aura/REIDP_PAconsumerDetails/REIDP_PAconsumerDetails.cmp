<!--
 * @author Amal Ali-Muradbeyli
 * @company Bluewolf, an IBM Company
 * @date 9/2017
 *
 * This is a component that holds all consumer related details
 * 
 -->

<aura:component access="global" controller="REIDP_PAConsumerDetailsController">
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="chosenAction" type="String" />
    <aura:attribute name="lookupInfo" type="REIDP_PAConsumerDetailsController.ConsumerDetails" description="Attribute that holds data returned from API call"/>   
    <lightning:spinner aura:id="consumerDetailsSpinner" variant="brand" class="slds-hide" size="large"/>
    <lightning:layout horizontalAlign="spread" multipleRows="true">
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="12" size="12" padding="around-small">
            <lightning:layout aura:id="actionGroup" horizontalAlign="end" >
                <lightning:buttonGroup >
                    <aura:if isTrue="{!v.lookupInfo.active}">                       	
                        <lightning:button variant="destructive" label="Disable Wallet" onclick="{!c.prepareWalletAction}"/>
                        <aura:set attribute="else">
                            <lightning:button variant="success" label="Enable Wallet"  onclick="{!c.prepareWalletAction}" />
                        </aura:set>
                    </aura:if> 
                    <lightning:button variant="destructive" label="Delete Wallet"  onclick="{!c.prepareWalletAction}" />
                </lightning:buttonGroup>
            </lightning:layout>
            <lightning:layout aura:id="promptGroup" class="slds-hide" horizontalAlign="end">                       
                <ui:outputText class="slds-form-element__label" value="Are you sure you want to proceed?" /><br/> 
                <lightning:buttonGroup aura:id="">
                    <lightning:button label="Yes"  onclick="{!c.performWalletAction}" />
                    <lightning:button label="No"  onclick="{!c.cancellWalletAction}" />
                </lightning:buttonGroup>
            </lightning:layout>
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small"> 
            <ui:outputText class="slds-form-element__label" value="Paydiant ID" /><br/>
            <ui:outputText class="slds-form-element__static" value="{!v.lookupInfo.paydiantId}" />                   	         
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Salesforce ID" /><br/>
            <ui:outputText class="slds-form-element__static" value="{!v.lookupInfo.salesforceId}" />  
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Created" /><br/>
            <ui:outputDateTime class="slds-form-element__static" value="{!v.lookupInfo.createdDate}"/>
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Modified" /><br/>
            <ui:outputDateTime class="slds-form-element__static" value="{!v.lookupInfo.modifiedDate}"/>    
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="First name" /><br/>
            <ui:outputText class="slds-form-element__static" value="{!v.lookupInfo.firstName}" />
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Last name" /><br/>
            <ui:outputText class="slds-form-element__static" value="{!v.lookupInfo.lastName}" />   	         
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="E-mail address" /><br/>
            <ui:outputEmail class="slds-form-element__static" value="{!v.lookupInfo.email}"/>
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Phone number" /><br/> 
            <aura:if isTrue="{!v.lookupInfo.phoneNumber == null}">
                <ui:outputPhone class="slds-form-element__static" value="{!v.lookupInfo.phoneNumber}"/>
                <aura:set attribute="else">
                    <ui:outputText class="slds-form-element__static" value="N/A" />
                </aura:set>
            </aura:if>                      
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Wallet locked" /><br/> 
            <aura:if isTrue="{!v.lookupInfo.locked}">                       	
                <lightning:icon iconName="action:approval" size="small" alternativeText="Locked"/>
                <aura:set attribute="else">
                    <lightning:icon iconName="action:close" size="small" alternativeText="Unlocked"/>
                </aura:set>
            </aura:if> 
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="6" size="6" padding="around-small">
            <ui:outputText class="slds-form-element__label" value="Wallet status" /><br/>
            <aura:if isTrue="{!v.lookupInfo.active}">                       	
                <lightning:icon iconName="action:approval" size="small" alternativeText="Active"/>
                <aura:set attribute="else">
                    <lightning:icon iconName="action:close" size="small" alternativeText="Inactive"/>
                </aura:set>
            </aura:if> 
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="12" size="12" padding="around-small">
            <c:REIDP_PAuserDeviceDetails deviceLookupInfo="{!v.lookupInfo.devices}"/>
        </lightning:layoutItem>
        <lightning:layoutItem flexibility="auto"  mediumDeviceSize="12" size="12" padding="around-small">
            <c:REIDP_PAsecurityQuestionAnswer recordId="{!v.recordId}"/>   
        </lightning:layoutItem>                
    </lightning:layout>
    {!v.body}
</aura:component>