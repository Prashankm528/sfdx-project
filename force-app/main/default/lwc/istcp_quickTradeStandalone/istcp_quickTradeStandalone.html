<template>
    <lightning-card>
        <template if:true={featureDisabled}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_warning" role="alert">
                <span class="slds-assistive-text">warning</span>
                <h2>Access to this feature is restricted.</h2>
            </div>
        </template>
        <div class="slds-form" role="list">
            <div class="slds-form__row">
                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="MeterName" label="Location"
                            value={trade.MeterName} options={locations} onchange={handleTradeConfigChange} required
                            disabled={featureDisabled}></lightning-combobox>
                    </div>
                </div>

                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-input variant="label-inline" type="number" name="quantityField"
                            label={volumeUnitOfMeasure} value={trade.Quantity} max={trade.Volume}
                            onchange={handleQuantityChange} required disabled={featureDisabled}></lightning-input>
                    </div>
                </div>
            </div>

            <div class="slds-form__row">
                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="directionField" label="Direction"
                            value={trade.Direction} options={directions} onchange={handleDirectionChange}
                            disabled={featureDisabled}></lightning-combobox>
                    </div>
                </div>

                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <span class="slds-form-element__label">Price</span>
                        <div class="slds-form-element__control">
                            <div class="slds-form-element__static">
                                <div class="slds-form-element__static">{trade.Price}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="slds-form__row">
                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="ProductType" label="Product Type"
                            value={trade.ProductType} options={productTypes} onchange={handleTradeConfigChange} required
                            disabled={featureDisabled}></lightning-combobox>
                    </div>
                </div>

                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="PipelineName" label="Pipeline"
                            value={trade.PipelineName} options={pipeLines} onchange={handleTradeConfigChange} required
                            disabled={featureDisabled}></lightning-combobox>
                    </div>
                </div>
            </div>

            <div class="slds-form__row">
                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="DeliveryPeriod" label="Delivery Period"
                            value={trade.DeliveryPeriod} options={deliveryPeriods} onchange={handleTradeConfigChange}
                            required disabled={featureDisabled}>
                        </lightning-combobox>
                    </div>
                </div>

                <div class="slds-form__item" role="listitem">
                    <div
                        class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_horizontal slds-hint-parent">
                        <lightning-combobox variant="label-inline" name="ZoneName" label="Zone" value={trade.ZoneName}
                            options={zones} onchange={handleTradeConfigChange} required disabled={featureDisabled}>
                        </lightning-combobox>
                    </div>
                </div>
            </div>
        </div>

        <div class="slds-grid slds-grid_align-end slds-p-top_small">
            <div class="slds-col">
                <lightning-button label="Reset Selection" onclick={handleReset}></lightning-button>
            </div>
            <div class="slds-col slds-p-left_small">
                <lightning-button label="Cancel" onclick={handleCancel}></lightning-button>
            </div>
            <div class="slds-col slds-p-left_small slds-p-right_small">
                <lightning-button label="Complete trade" onclick={completeTrade} disabled={featureDisabled}>
                </lightning-button>
            </div>
        </div>

    </lightning-card>
</template>